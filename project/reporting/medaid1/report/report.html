
            <!DOCTYPE html>
            <html lang='en'>
            <head>
                <meta charset='UTF-8'>
                <meta name='viewport' content='width=device-width, initial-scale=1.0'>
                <title>Model Comparison Report</title>
                <style>
                    body {
                        font-family: Arial, sans-serif;
                        line-height: 1.6;
                        color: #333;
                        background-color: #f8f9fa;
                        margin: 0;
                        padding: 0;
                    }
                    header {
                        background-color: #343a40;
                        color: #fff;
                        padding: 20px;
                        text-align: center;
                    }
                    header h1 {
                        margin: 0;
                    }
                    section {
                        padding: 20px;
                        margin: 20px auto;
                        background: #fff;
                        border-radius: 8px;
                        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                        max-width: 1200px;
                    }
                    table {
                        width: 100%;
                        border-collapse: collapse;
                        margin-bottom: 20px;
                    }
                    table th, table td {
                        border: 1px solid #ddd;
                        padding: 8px;
                        text-align: left;
                    }
                    table th {
                        background-color: #343a40;
                        color: white;
                    }
                    img {
                        max-width: 100%;
                        height: auto;
                        margin: 10px 0;
                        border-radius: 4px;
                        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
                    }
                    .image-row {
                        display: flex;
                        justify-content: space-between;
                        align-items: flex-start;
                        gap: 20px;
                        margin-bottom: 20px;
                    }
                    .image-row img {
                        flex: 1;
                        max-height: 400px;
                    }
                    .scrollable-container {
                        width: 100%;
                        height: 600px;
                        overflow: auto;
                        border: 1px solid #ccc;
                        margin-top: 20px;
                    }
                </style>
            </head>
            <body>
                <header>
                    <h1>Model Comparison Report</h1>
                </header>
            
            <section>
                <h2>Data Analysis</h2>
                <p><strong>Number of rows:</strong> 70000</p>
                <p><strong>Number of columns:</strong> 11</p>
            </section>
            <section><h2>Preprocessing Details</h2><table><tr><td>Column Name</td><td>Removed</td><td>Reason for Removal</td><td>Correlation with Target</td><td>Imputation Method</td><td>Encoded</td><td>Encoding Method</td><td>Label Encoding Mapping</td><td>Scaling Method</td><td>Scaling Params</td></tr><tr><td>ap_lo</td><td>False</td><td></td><td>0.06571790885126072</td><td>Median</td><td></td><td></td><td></td><td>min_max</td><td>"{'min': -70.0</td><td>'max': 11000.0}"</td></tr><tr><td>height</td><td>False</td><td></td><td>0.01076407184516415</td><td>Median</td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 55.0</td><td>'max': 250.0}"</td></tr><tr><td>gluc</td><td>False</td><td></td><td></td><td></td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 1.0</td><td>'max': 3.0}"</td></tr><tr><td>smoke</td><td>False</td><td></td><td></td><td></td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 0.0</td><td>'max': 1.0}"</td></tr><tr><td>alco</td><td>False</td><td></td><td></td><td></td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 0.0</td><td>'max': 1.0}"</td></tr><tr><td>cardio</td><td>False</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>id</td><td>True</td><td>Contains 'id'</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>cholesterol</td><td>False</td><td></td><td></td><td></td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 1.0</td><td>'max': 3.0}"</td></tr><tr><td>ap_hi</td><td>False</td><td></td><td>0.05447277513345363</td><td>Median</td><td></td><td></td><td></td><td>min_max</td><td>"{'min': -150.0</td><td>'max': 16020.0}"</td></tr><tr><td>active</td><td>False</td><td></td><td></td><td></td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 0.0</td><td>'max': 1.0}"</td></tr><tr><td>age</td><td>False</td><td></td><td>0.2381389311432667</td><td>Random Forest</td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 10798.0</td><td>'max': 23713.0}"</td></tr><tr><td>gender</td><td>False</td><td></td><td>0.008099113943770513</td><td>Median</td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 1.0</td><td>'max': 2.0}"</td></tr><tr><td>weight</td><td>False</td><td></td><td>0.18165307082129778</td><td>Median</td><td></td><td></td><td></td><td>min_max</td><td>"{'min': 10.0</td><td>'max': 200.0}"</td></tr></table></section><section><h2>Feature Distributions</h2><div><img src='../distribution_plots/active_count.png' width='250' height='200'><img src='../distribution_plots/age_hist.png' width='250' height='200'><img src='../distribution_plots/alco_count.png' width='250' height='200'><img src='../distribution_plots/ap_hi_hist.png' width='250' height='200'><img src='../distribution_plots/ap_lo_hist.png' width='250' height='200'><img src='../distribution_plots/cholesterol_count.png' width='250' height='200'><img src='../distribution_plots/gender_count.png' width='250' height='200'><img src='../distribution_plots/gluc_count.png' width='250' height='200'><img src='../distribution_plots/height_hist.png' width='250' height='200'><img src='../distribution_plots/smoke_count.png' width='250' height='200'><img src='../distribution_plots/weight_hist.png' width='250' height='200'></div></section>
            <section>
                <h2>Correlation Analysis</h2>
                <h3>Correlation Matrix</h3>
                <img src='../correlation_plots/correlation_matrix.png' style="width: 600px; height: auto;">
                <h3>Correlation with cardio</h3>
            <img src='../correlation_plots/active_correlation.png' width='250' height='200'><img src='../correlation_plots/age_correlation.png' width='250' height='200'><img src='../correlation_plots/alco_correlation.png' width='250' height='200'><img src='../correlation_plots/ap_hi_correlation.png' width='250' height='200'><img src='../correlation_plots/ap_lo_correlation.png' width='250' height='200'><img src='../correlation_plots/cholesterol_correlation.png' width='250' height='200'><img src='../correlation_plots/gender_correlation.png' width='250' height='200'><img src='../correlation_plots/gluc_correlation.png' width='250' height='200'><img src='../correlation_plots/height_correlation.png' width='250' height='200'><img src='../correlation_plots/smoke_correlation.png' width='250' height='200'><img src='../correlation_plots/weight_correlation.png' width='250' height='200'></section><section><h2>Data Frame Preview</h2><table><tr><th>age</th><th>gender</th><th>height</th><th>weight</th><th>ap_hi</th><th>ap_lo</th><th>cholesterol</th><th>gluc</th><th>smoke</th><th>alco</th><th>active</th><th>cardio</th></tr><tr><td>18393.0</td><td>2</td><td>168.0</td><td>NaN</td><td>110.0</td><td>80.0</td><td>1.0</td><td>1.0</td><td>0</td><td>0</td><td>1</td><td>0</td></tr><tr><td>20228.0</td><td>1</td><td>NaN</td><td>NaN</td><td>140.0</td><td>90.0</td><td>3.0</td><td>1.0</td><td>0</td><td>0</td><td>1</td><td>1</td></tr><tr><td>18857.0</td><td>1</td><td>NaN</td><td>64.0</td><td>130.0</td><td>70.0</td><td>3.0</td><td>1.0</td><td>0</td><td>0</td><td>0</td><td>1</td></tr><tr><td>17623.0</td><td>2</td><td>169.0</td><td>82.0</td><td>NaN</td><td>100.0</td><td>1.0</td><td>1.0</td><td>0</td><td>0</td><td>1</td><td>1</td></tr><tr><td>17474.0</td><td>1</td><td>156.0</td><td>56.0</td><td>100.0</td><td>60.0</td><td>1.0</td><td>1.0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></table></section>
            <section>
                <h2>Models</h2>
                <p><strong>Models used:</strong> logistic, tree, random_forest, xgboost, lightgbm</p>
                <p><strong>Metric used:</strong> recall</p>
                <h2>Model Ranking</h2>
                <table>
                    <tr>
                        <th>Model</th>
                        <th>Accuracy</th>
                        <th>Precision</th>
                        <th>Recall</th>
                        <th>F1</th>
                    </tr>
            <tr><td>random_forest</td><td>0.7339642549318254</td><td>0.7585783052929718</td><td>0.6854505465942927</td><td>0.720156316614761</td></tr><tr><td>xgboost</td><td>0.7295714016127657</td><td>0.7603981432572532</td><td>0.6694311902880736</td><td>0.7119629598403368</td></tr><tr><td>tree</td><td>0.7217857230370094</td><td>0.7480345591828952</td><td>0.668430062740947</td><td>0.7057824145427984</td></tr><tr><td>lightgbm</td><td>0.7289463821604891</td><td>0.7704608913732542</td><td>0.6513388037138522</td><td>0.7058670779478504</td></tr><tr><td>logistic</td><td>0.6415535348472764</td><td>0.6505252274603638</td><td>0.609932995129795</td><td>0.6295578220423139</td></tr></table></section><section>
                    <h2>Explanation of Medical Metrics</h2>
                    <ul>
                        <li><strong>Sensitivity (Recall):</strong> Sensitivity measures how well the model identifies patients who truly have the disease. A higher sensitivity reduces the risk of false negatives, which is crucial in early detection of serious conditions.</li>
                        <li><strong>Specificity:</strong> Specificity measures how well the model identifies healthy patients. A higher specificity reduces the risk of false positives, preventing unnecessary treatments.</li>
                        <li><strong>Positive Predictive Value (PPV):</strong> PPV indicates the likelihood that a positive prediction is correct. A high PPV ensures that patients who are diagnosed as sick truly have the condition.</li>
                        <li><strong>Negative Predictive Value (NPV):</strong> NPV indicates the likelihood that a negative prediction is correct. A high NPV ensures that healthy patients are not incorrectly diagnosed.</li>
                        <li><strong>False Positive Rate (FPR):</strong> FPR measures the proportion of healthy patients incorrectly identified as having the disease. A high FPR can lead to unnecessary tests and treatments.</li>
                        <li><strong>False Negative Rate (FNR):</strong> FNR measures the proportion of sick patients who are incorrectly diagnosed as healthy. A high FNR can delay diagnosis and treatment, which may worsen patient outcomes.</li>
                        <li><strong>ROC-AUC Score:</strong> The ROC-AUC score evaluates the model's ability to distinguish between positive and negative cases across different thresholds. A higher ROC-AUC indicates better discriminatory performance of the model, especially in imbalanced datasets.</li>
                    </ul>
                </section>
                <section>
                    <h2>RandomForestClassifier</h2>
                    <h3>Model Performance Metrics</h3>
                    <!-- Medical Metrics Explanation -->
                    <ul>
                        <li><strong>Sensitivity (Recall):</strong> 0.69</li>
                        <li><strong>Specificity:</strong> 0.79</li>
                        <li><strong>Positive Predictive Value (PPV):</strong> 0.77</li>
                        <li><strong>Negative Predictive Value (NPV):</strong> 0.72</li>
                        <li><strong>False Positive Rate (FPR):</strong> 0.21</li>
                        <li><strong>False Negative Rate (FNR):</strong> 0.31</li>
                        <li><strong>ROC-AUC Score:</strong> 0.80</li>
                    </ul>
                    <div class="image-row">
                        <div>
                            <h3>Confusion Matrix</h3>
                            <img src='../confusion_matrix/RandomForestClassifier_confusion_matrix.png'>
                        </div>
                        <div>
                            <h3>Feature Importance</h3>
                <img src='../shap_feature_importance/RandomForestClassifier_custom_feature_importance.png'></div></div></section>
                <section>
                    <h2>XGBClassifier</h2>
                    <h3>Model Performance Metrics</h3>
                    <!-- Medical Metrics Explanation -->
                    <ul>
                        <li><strong>Sensitivity (Recall):</strong> 0.68</li>
                        <li><strong>Specificity:</strong> 0.79</li>
                        <li><strong>Positive Predictive Value (PPV):</strong> 0.77</li>
                        <li><strong>Negative Predictive Value (NPV):</strong> 0.71</li>
                        <li><strong>False Positive Rate (FPR):</strong> 0.21</li>
                        <li><strong>False Negative Rate (FNR):</strong> 0.32</li>
                        <li><strong>ROC-AUC Score:</strong> 0.80</li>
                    </ul>
                    <div class="image-row">
                        <div>
                            <h3>Confusion Matrix</h3>
                            <img src='../confusion_matrix/XGBClassifier_confusion_matrix.png'>
                        </div>
                        <div>
                            <h3>Feature Importance</h3>
                <img src='../shap_feature_importance/XGBClassifier_custom_feature_importance.png'></div></div></section>
                <section>
                    <h2>DecisionTreeClassifier</h2>
                    <h3>Model Performance Metrics</h3>
                    <!-- Medical Metrics Explanation -->
                    <ul>
                        <li><strong>Sensitivity (Recall):</strong> 0.71</li>
                        <li><strong>Specificity:</strong> 0.75</li>
                        <li><strong>Positive Predictive Value (PPV):</strong> 0.74</li>
                        <li><strong>Negative Predictive Value (NPV):</strong> 0.72</li>
                        <li><strong>False Positive Rate (FPR):</strong> 0.25</li>
                        <li><strong>False Negative Rate (FNR):</strong> 0.29</li>
                        <li><strong>ROC-AUC Score:</strong> 0.79</li>
                    </ul>
                    <div class="image-row">
                        <div>
                            <h3>Confusion Matrix</h3>
                            <img src='../confusion_matrix/DecisionTreeClassifier_confusion_matrix.png'>
                        </div>
                        <div>
                            <h3>Feature Importance</h3>
                <img src='../shap_feature_importance/DecisionTreeClassifier_custom_feature_importance.png'></div></div>
                    <h3>Tree Visualization</h3>
                    <div class="scrollable-container">
                        <img src="../plots/tree.svg" alt="Decision Tree Visualization">
                    </div>
                    </section>
                <section>
                    <h2>LGBMClassifier</h2>
                    <h3>Model Performance Metrics</h3>
                    <!-- Medical Metrics Explanation -->
                    <ul>
                        <li><strong>Sensitivity (Recall):</strong> 0.66</li>
                        <li><strong>Specificity:</strong> 0.81</li>
                        <li><strong>Positive Predictive Value (PPV):</strong> 0.78</li>
                        <li><strong>Negative Predictive Value (NPV):</strong> 0.70</li>
                        <li><strong>False Positive Rate (FPR):</strong> 0.19</li>
                        <li><strong>False Negative Rate (FNR):</strong> 0.34</li>
                        <li><strong>ROC-AUC Score:</strong> 0.79</li>
                    </ul>
                    <div class="image-row">
                        <div>
                            <h3>Confusion Matrix</h3>
                            <img src='../confusion_matrix/LGBMClassifier_confusion_matrix.png'>
                        </div>
                        <div>
                            <h3>Feature Importance</h3>
                <img src='../shap_feature_importance/LGBMClassifier_custom_feature_importance.png'></div></div></section>
                <section>
                    <h2>LogisticRegression</h2>
                    <h3>Model Performance Metrics</h3>
                    <!-- Medical Metrics Explanation -->
                    <ul>
                        <li><strong>Sensitivity (Recall):</strong> 0.62</li>
                        <li><strong>Specificity:</strong> 0.68</li>
                        <li><strong>Positive Predictive Value (PPV):</strong> 0.66</li>
                        <li><strong>Negative Predictive Value (NPV):</strong> 0.64</li>
                        <li><strong>False Positive Rate (FPR):</strong> 0.32</li>
                        <li><strong>False Negative Rate (FNR):</strong> 0.38</li>
                        <li><strong>ROC-AUC Score:</strong> 0.70</li>
                    </ul>
                    <div class="image-row">
                        <div>
                            <h3>Confusion Matrix</h3>
                            <img src='../confusion_matrix/LogisticRegression_confusion_matrix.png'>
                        </div>
                        <div>
                            <h3>Feature Importance</h3>
                <img src='../shap_feature_importance/LogisticRegression_custom_feature_importance.png'></div></div></section></body></html>